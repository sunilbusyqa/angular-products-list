<h1>New Product</h1>
<hr>
<div class="col-md-6">
  <form #newProductForm="ngForm" (ngSubmit)="saveProduct(newProductForm.value)" autocomplete="off" novalidate>
    <div class="form-group" [ngClass]="{'error': newProductForm.controls.name?.invalid && newProductForm.controls.name?.touched}">
      <label for="productName">Product Name:</label>
      <em *ngIf="newProductForm.controls.name?.invalid && (newProductForm.controls.name?.touched)">Required</em>
      <input (ngModel)="name" name="name" required id="name" type="text" class="form-control" placeholder="Name of your product..." />
    </div>
    <div class="form-group" [ngClass]="{'error': newProductForm.controls.description?.invalid && newProductForm.controls.description?.touched}">
      <label for="productDescription">Product Description:</label>
      <em *ngIf="newProductForm.controls.description?.invalid && (newProductForm.controls.description?.touched)">Required</em>
      <input (ngModel)="description" name="description" required id="description" type="text" class="form-control" placeholder="Description of your product..." />
    </div>
    <div class="form-group" [ngClass]="{'error': newProductForm.controls.price?.invalid && newProductForm.controls.price?.touched}">
      <label for="productPrice">Product Price:</label>
      <em *ngIf="newProductForm.controls.price?.invalid && (newProductForm.controls.price?.touched)">Required</em>
      <input (ngModel)="price" name="price" required id="eventPrice" type="text" type="number" class="form-control" placeholder="Product price..." />
    </div>
    <div class="form-group" [ngClass]="{'error': newProductForm.controls.category?.invalid && newProductForm.controls.category?.touched}">
      <label for="productCategory">Product Category:</label>
      <em *ngIf="newProductForm.controls.category?.invalid && (newProductForm.controls.category?.touched)">Required</em>
      <input (ngModel)="category" name="category" required id="category" type="text" class="form-control" placeholder="Product category..." />
    </div>
    <div class="form-group" [ngClass]="{'error': newProductForm.controls.imageUrl?.invalid && newProductForm.controls.imageUrl?.touched}">
      <label for="imageUrl">Product Image:</label>
      <em *ngIf="newProductForm.controls.imageUrl?.invalid && newProductForm.controls.imageUrl?.touched && newProductForm.controls.imageUrl?.errors.required">Required</em>
      <em *ngIf="newProductForm.controls.imageUrl?.invalid && newProductForm.controls.imageUrl?.touched  && newProductForm.controls.imageUrl?.errors.pattern">Must be a png or jpg url</em>
      <input (ngModel)="imageUrl" name="imageUrl" pattern=".*\/.*.(png|jpg)" id="imageUrl" type="text" class="form-control" placeholder="URL of image..." />
      <img />
    </div>
    
    <button type="submit" [disabled]="newProductForm.invalid" class="btn btn-primary">Save</button>
    <button type="button" class="btn btn-default" (click)="cancel()">Cancel</button>
  </form>
</div>